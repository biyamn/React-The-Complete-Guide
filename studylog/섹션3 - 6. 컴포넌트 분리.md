# 컴포넌트에 일반 JavaScript 논리 추가하기

## toLocaleString() 사용하기

date를 year, month, date로 나누어 더 예쁘게 출력해보자. 

```jsx
import './ExpenseItem.css';

function ExpenseItem(props) {
  const year = props.date.toLocaleString("ko-KR",  {year: "numeric"}); // 2023년
  const month = props.date.toLocaleString("ko-KR", {month: "long"}); // 1월
  const date = props.date.toLocaleString("ko-KR", {day: "2-digit"}); // 01일

  return (
    <div className='expense-item'>
      <div>
        <div>{year}</div>  
        <div>{month}</div>  
        <div>{date}</div>
      </div>
      <div className='expense-item__description'>
        <h2>{props.title}</h2>
        <div className='expense-item__price'>₩{props.amount.toLocaleString()}</div>
      </div>
    </div>
  )
}

export default ExpenseItem;
```

### toLocaleString()이란?

날짜를 언어별로 구분하여 나타내는 문자열을 반환한다. 

문법: `arr.toLocaleString([locales[, options]]);`

- locales: 내가 표현하고자 하는 지역의 언어 태그를 입력한다. 여기서는 ‘en-US’였음
- [https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString)

# 컴포넌트를 여러 컴포넌트로 분할하기

날짜를 나타내는 부분을 ExpenseDate.js에 넣고 컴포넌트를 분할했다. 

이때 props를 전달해야 했는데, 예를 들면 아래와 같다.

```jsx
function ExpenseDate(props) {
  const year = props.toLocaleString("ko-KR",  {year: "numeric"}); // 2023년
  const month = props.toLocaleString("ko-KR", {month: "long"}); // 1월
  const date = props.toLocaleString("ko-KR", {day: "2-digit"}); // 01일
```

props를 전달하기 위해서 아래와 같이 date로 props.date를 전달해주었다.

```jsx
function ExpenseItem(props) {

  return (
    <div className='expense-item'>
      <ExpenseDate **date={props.date}**/>
```

### 여기부터 어떻게 해야 할지 혼자 생각해봄

date를 props로 넘겼고, 그럼 ExpenseDate에서 어떻게 받아와야 할까? 

일단 props로 받아오고, 그래서 year, month, date에 각각 props.toLocaleString이라고 줬다. 

```jsx
function ExpenseDate(props) {
  const year = props.toLocaleString("ko-KR",  {year: "numeric"}); // 2023년
  const month = props.toLocaleString("ko-KR", {month: "long"}); // 1월
  const date = props.toLocaleString("ko-KR", {day: "2-digit"}); // 01일

  return (
    <div>
      <div>{year}</div>  
      <div>{month}</div>  
      <div>{date}</div>
    </div>
    )
}

export default ExpenseDate;
```

→ 하지만! 이렇게 날짜가 모두 [object Object]라고 나오는데… 검색해보니, json 형태의 데이터를 출력하면 이렇게 나온다고 한다. 이게 무슨 소리일까? 일단 이럴 때는 JSON.stringify()를 쓰면 자바스크립트 객체를 문자열로 변환해줘서 어떤 값이 있는지 알 수 있다고 해서 해봤다. 


![캡처 PNG](https://user-images.githubusercontent.com/101965666/214233155-c8efa0a3-bf78-443d-8ff1-a2e3d75633e5.png)


이렇게 … 나온다. 일단 이 방법은 아닌 것 같다.


![캡처 PNG (1)](https://user-images.githubusercontent.com/101965666/214233161-75672a9d-da6e-49f8-993e-5ab0f61a698e.png)


콘솔로 찍어봤다.

```jsx
console.log('props: ', props);
console.log('props.toLocaleString("ko-KR"): ', props.toLocaleString("ko-KR"));
console.log('props.date.toLocaleString("ko-KR"): ', props.toLocaleString("ko-KR"), {month: "long"});
```

- props
    
    *{date: Thu Jan 12 2023 00:00:00 GMT+0900 (한국 표준시)}*
        **date**: Thu Jan 12 2023 00:00:00 GMT+0900 (한국 표준시) {}
        `[[Prototype]]`: Object
    
- props.toLocaleString("ko-KR")
    
    [object Object]
    
- props.**toLocaleString**("ko-KR"), {month: "long"}
    
    {month: 'long'}
    

props가 *`Thu Jan 12 2023 00:00:00 GMT+0900 (한국 표준시)`*일 거라고 생각했는데 왜인지 date라는 프로퍼티 안에 있다! 그래서  props.**toLocaleString** 가 아니라 props.date.**toLocaleString**라고 해줘야 정상적으로 년월일이 출력된다!!

왜 props에 date라는 프로퍼티가 있는 걸까? 그래서 콘솔로 date라는 프로퍼티가 있나 찍어봤다. 없었다! 

```jsx
const dateTest = new Date(2023, 0, 1); 
console.log('dateTest: ', dateTest); // dateTest:  Sun Jan 01 2023 00:00:00 GMT+0900 (한국 표준시)
console.log('dateTest.date: ', dateTest.date); // undefined
```

그래서 구조분해할당으로 분해해서 써봤다! (date라는 변수가 이미 있어서 date2로 가져옴) 이렇게 해보니까 답을 알게됐다. props는 date를 포함하여 전체적으로 가져오는 거고, 그래서 date를 쓰려면 `.date` 이렇게 가져와야 하는 것이었다!

```jsx
function ExpenseDate({date2}) {
  const year = date2.toLocaleString("ko-KR",  {year: "numeric"}); // 2023년
  const month = date2.toLocaleString("ko-KR", {month: "long"}); // 1월
  const date = date2.toLocaleString("ko-KR", {day: "2-digit"}); // 01일

  return (
    <div>
      <div>{year}</div>  
      <div>{month}</div>  
      <div>{date}</div>
    </div>
    )
}

export default ExpenseDate;
```

그리고 꼭 props로 넘겨준 이름으로 가져와야하나 궁금해서 coffee라는 생뚱맞은 이름으로 가져왔는데, 오류가 떴다. 이렇게 하면 안되나보다.

```jsx
function ExpenseDate({coffee}) {
  const year = coffee.toLocaleString("ko-KR",  {year: "numeric"}); // 2023년
  const month = coffee.toLocaleString("ko-KR", {month: "long"}); // 1월
  const date = coffee.toLocaleString("ko-KR", {day: "2-digit"}); // 01일

  return (
    <div>
      <div>{year}</div>  
      <div>{month}</div>  
      <div>{date}</div>
    </div>
    )
}

export default ExpenseDate;
```

그렇다고 아래와 같이 이름을 지정하지 않고 가져올 수는 없다! 오류가 뜬다.

```jsx
<ExpenseDate props.date />
```

> 참고
> 

참고로 아래의 1번과 2번은 아래와 같다. 따라서 props에 date2 속성이 있는 것을 넘겨주는 것과 같으니 props로 넘겨준 상황에서 특정하게 date2를 써야 한다면 `.date2`이렇게 써줘야 한다고 이해하면 될 것 같다.

```jsx
// 1번
{React.createElement(ExpenseDate, {
	date2: props.date,
})}

// 2번
<ExpenseDate date2={props.date} />
```

# 컴포넌트 분리 연습하기

### 이번에도 혼자 해보기

얘들을 Expenses.js에 따로 분리하기로 했다. 강의를 듣기 전에 혼자 분리해보았다. 

```jsx
<div>
  <ExpenseItem 
    title={props.items[0].title} 
    amount={props.items[0].amount} 
    date={props.items[0].date}
    />
    <ExpenseItem 
    title={props.items[1].title} 
    amount={props.items[1].amount} 
    date={props.items[1].date}
    />
    <ExpenseItem 
    title={props.items[2].title}
    amount={props.items[2].amount} 
    date={props.items[2].date}
    />
    <ExpenseItem 
    title={props.items[3].title} 
    amount={props.items[3].amount}
    date={props.items[3].date}/>
  </div>
```

그래서 Expenses.js 파일을 만들고 붙여넣어줬다.

```
import ExpenseItem from "./ExpenseItem";

function Expenses(props) {

  return (
    <div>
      <ExpenseItem 
        title={props.expenses[0].title} 
        amount={props.expenses[0].amount} 
        date={props.expenses[0].date}
      ></ExpenseItem>
      <ExpenseItem 
        title={props.expenses[1].title} 
        amount={props.expenses[1].amount} 
        date={props.expenses[1].date}
      ></ExpenseItem>
      <ExpenseItem 
        title={props.expenses[2].title} 
        amount={props.expenses[2].amount} 
        date={props.expenses[2].date}
      ></ExpenseItem>
      <ExpenseItem 
        title={props.expenses[3].title} 
        amount={props.expenses[3].amount} 
        date={props.expenses[3].date}
      ></ExpenseItem>
    </div>
  )
}

export default Expenses;
```

Expenses에서는 expenses라는 변수를 이용해야 한다. 여기서 expenses란?

```jsx
const expense = [
    {
      title: 'Toilet paper',
      amount: '24.5',
      date: new Date(2022, 0, 1),
    },
    {
      title: 'Phone',
      amount: '243.8',
      date: new Date(2022, 0, 2),
    },
    {
      title: 'Jelly',
      amount: '4.5',
      date: new Date(2022, 0, 2),
    },
    {
      title: 'Flower',
      amount: '9.4',
      date: new Date(2022, 0, 4),
    }
  ]
```

이거를 Expenses.js에서 이용하려면 props로 넘겨주어야 한다. 그래서 expenses라는 변수가 존재하는 App.js에서 이렇게 props를 넘겨주었다. 

```jsx
<Expenses expenses = {expenses}/>
```

결과는 성공!

> 참고
> 

tailwindcss 홈페이지에서 색조합을 가져와서 css를 내 마음에 들게 수정해주었다!

[https://tailwindcss.com/docs/customizing-colors](https://tailwindcss.com/docs/customizing-colors)